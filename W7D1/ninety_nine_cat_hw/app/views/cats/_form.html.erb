<% action = (cat.persisted? ? cat_url(cat) : cats_url) %>
<% value = (cat.persisted? ? :PATCH : :POST) %>

<form action="<%= action %>" method='POST'>
    <input type="hidden" name="_method" value="<%= value %>">

    <label for="cat_name">Cat Name:</label>
    <input type="text" name="cat[name]" id="cat_name" value='<%= cat.name %>'>

    <br>

    <input type="radio" id='sex' name='cat[sex]' value='M' <%= cat.sex == 'M' ? "checked" : "" %>>
        <label for="sex">Male</label>
    <input type="radio" id='sex' name='cat[sex]' value='F' <%= cat.sex == 'F' ? "checked" : "" %>>
        <label for="sex">Female</label>

    <br>

    <label for="cat_color">Cat Color:</label>
        <select name="cat[color]" id="cat_color">
            <option selected disabled>--Select a color--</option>
        <% Cat::CAT_COLORS.each do |color|%>
            <option 
                <%= cat.color == color ? "selected" : "" %> 
                value='<%= color %>'>
                <%= color %> 
            </option>
        <% end%>
        </select>

        <br>

    <label>Birthday:
        <input type="date" name="cat[birth_date]" value='<%= cat.birth_date %>'>
    </label>

    <br>

    <label>Description:
        <textarea name="cat[description]"> <%= cat.description %></textarea>
    </label>

    <br>
    <% button_value = (cat.persisted? ? "Update cat" : "Save new cat")%>
    <input type="submit" value="<%= button_value %>">

</form>